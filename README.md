# Link Shortener API

Сервис для сокращения URL

### Требования
- Для запуска вам понадобится Python 3.6 или выше (желательно Python 3.10)

### Переменные окружения
- `DEBUG` — дебаг-режим. Поставьте `True` для включения, `False` -- для 
выключения отладочного режима. По умолчанию дебаг-режим отключен.
- `SECRET_KEY` — секретный ключ проекта.
- `ALLOWED_HOSTS` — Список разрешенных хостов

## Установка и запуск на локальном сервере
- Скачайте код из репозитория
- Установите зависимости командой:
```shell
pip install -r requirements.txt
```
- Создайте файл `.env` в корневой папке и пропишите переменные окружения 
в формате: `ПЕРЕМЕННАЯ=значение`
- Выполните миграцию БД:
```commandline
python manage.py migrate
```
- Запустите скрипт командой:
```commandline
python manage.py runserver
```


## API
### Получить полный адрес по короткому имени ссылки
__GET__ /search
#### Параметры:

| | | |
| --- | --- | --- | 
| __short_name *__ | _string_ | короткое имя ссылки, например _dfgrt_ |


### Создать короткую ссылку

__POST__ /add
#### Тело запроса:

| | | |
| --- | --- | --- | 
| __url *__ | _string_ | ссылка, которую нужно сократить
| __short_name__ |_string_ | кастомное короткое имя ссылки, например my_link

Сервер возвращает ответ в json формате в следующем виде:
```json
{
  "full_url": "https://www.google.com/",
  "short_url": "hostname/ogwba"
}
```

## Интерфейс
Интерфейс для ручного ввода ссылки доступен 
по адресу [127.0.0.1:8000](http://127.0.0.1:8000/)


## Админка
Админка сайта доступна по адресу [127.0.0.1:8000/admin](http://127.0.0.1:8000/admin)

Для входа в админку необходимо создать администратора (суперпользователя) командой:
```commandline
python manage.py createsuperuser
```
